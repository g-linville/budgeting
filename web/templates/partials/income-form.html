{{ define "income-form" }}
<form hx-post="/incomes"
      hx-target="#recent-transactions"
      hx-swap="outerHTML"
      hx-on::after-request="if(event.detail.successful) { this.reset(); document.getElementById('income-form-errors').innerHTML = ''; }"
      class="income-form">

    <div id="income-form-errors"></div>

    <div class="form-group">
        <label for="income-name">Name *</label>
        <input type="text"
               id="income-name"
               name="name"
               required
               maxlength="255"
               placeholder="e.g., Salary">
        <span class="field-error" id="income-name-error"></span>
    </div>

    <div class="form-group">
        <label for="income-amount">Amount *</label>
        <input type="number"
               id="income-amount"
               name="amount"
               required
               step="0.01"
               min="0.01"
               placeholder="e.g., 5000.00">
        <span class="field-error" id="income-amount-error"></span>
    </div>

    <div class="form-group">
        <label for="income-date">Date</label>
        <input type="date"
               id="income-date"
               name="income_date"
               value="{{ .CurrentYear }}-{{ printf "%02d" .CurrentMonth }}-{{ printf "%02d" .CurrentDay }}">
    </div>

    <div class="form-group">
        <label for="income-notes">Notes</label>
        <textarea id="income-notes"
                  name="notes"
                  rows="2"
                  placeholder="Optional notes"></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Add Income</button>
</form>
{{ end }}
